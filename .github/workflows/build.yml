name:%20Build%20gamma.xml%0A%0Aon%3A%0A%20%20workflow_dispatch%3A%0A%0Ajobs%3A%0A%20%20build%3A%0A%20%20%20%20runs-on%3A%20ubuntu-latest%0A%0A%20%20%20%20steps%3A%0A%20%20%20%20%20%20-%20name%3A%20Checkout%20repository%0A%20%20%20%20%20%20%20%20uses%3A%20actions/checkout@v4%0A%0A%20%20%20%20%20%20-%20name:%20Build%20gamma.xml%0A%20%20%20%20%20%20%20%20run:%20%7C%0A%20%20%20%20%20%20%20%20%20%20python%20%3C%3C%20'EOF'%0A%20%20%20%20%20%20%20%20%20%20import%20glob,%20os,%20xml.etree.ElementTree%20as%20ET%0A%20%20%20%20%20%20%20%20%20%20from%20xml.dom%20import%20minidom%0A%0A%20%20%20%20%20%20%20%20%20%20def%20prettify(elem):%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20rough%20=%20ET.tostring(elem,%20'utf-8')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20minidom.parseString(rough).toprettyxml(indent=%22%20%20%22)%0A%0A%20%20%20%20%20%20%20%20%20%20root%20=%20ET.Element(%22cenyMieszkan%22)%0A%0A%20%20%20%20%20%20%20%20%20%20dev%20=%20ET.SubElement(root,%20%22deweloper%22)%0A%20%20%20%20%20%20%20%20%20%20ET.SubElement(dev,%20%22nazwa%22).text%20=%20%22GAMMA%20Sp.%20z%20o.o.%20Sp%C3%B3%C5%82ka%20komandytowa%22%0A%20%20%20%20%20%20%20%20%20%20ET.SubElement(dev,%20%22nip%22).text%20=%20%225932606985%22%0A%20%20%20%20%20%20%20%20%20%20ET.SubElement(dev,%20%22regon%22).text%20=%20%22366853911%22%0A%20%20%20%20%20%20%20%20%20%20ET.SubElement(dev,%20%22email%22).text%20=%20%22biuro@gamma.tczew.pl%22%0A%20%20%20%20%20%20%20%20%20%20ET.SubElement(dev,%20%22telefon%22).text%20=%20%22587775353%22%0A%20%20%20%20%20%20%20%20%20%20ET.SubElement(dev,%20%22stronaInternetowa%22).text%20=%20%22https://gamma.tczew.pl%22%0A%0A%20%20%20%20%20%20%20%20%20%20inwestycja%20=%20ET.SubElement(root,%20%22inwestycja%22)%0A%20%20%20%20%20%20%20%20%20%20ET.SubElement(inwestycja,%20%22nazwa%22).text%20=%20%22Apartamenty%20nad%20Wis%C5%82%C4%85%22%0A%0A%20%20%20%20%20%20%20%20%20%20for%20file%20in%20glob.glob(%22*.xml%22):%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20file%20==%20%22gamma.xml%22:%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20budynek%20=%20ET.SubElement(inwestycja,%20%22budynek%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ET.SubElement(budynek,%20%22id%22).text%20=%20os.path.splitext(file)%5B0%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20lokale%20=%20ET.SubElement(budynek,%20%22lokale%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20tree%20=%20ET.parse(file)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%20=%20tree.getroot()%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20offer%20in%20r.findall(%22.//offer%22):%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raw%20=%20offer.findtext(%22.//w_kt_rym_prowadzona_jest_sprzeda_powiat_adresu_lokalu%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20raw:%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%20=%20raw.split(%22;%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lokal%20=%20ET.SubElement(lokale,%20%22lokal%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ET.SubElement(lokal,%20%22idLokalu%22).text%20=%20data%5B11%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ET.SubElement(lokal,%20%22cenaZaM2%22).text%20=%20data%5B12%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ET.SubElement(lokal,%20%22cenaCalkowita%22).text%20=%20data%5B14%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ET.SubElement(lokal,%20%22dataObowiazywania%22).text%20=%20data%5B13%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ET.SubElement(lokal,%20%22adresProspektu%22).text%20=%20data%5B-1%5D%0A%0A%20%20%20%20%20%20%20%20%20%20with%20open(%22gamma.xml%22,%20%22w%22,%20encoding=%22utf-8%22)%20as%20f:%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20f.write(prettify(root))%0A%20%20%20%20%20%20%20%20%20%20EOF%0A%0A%20%20%20%20%20%20-%20name:%20Commit%20gamma.xml%0A%20%20%20%20%20%20%20%20run:%20%7C%0A%20%20%20%20%20%20%20%20%20%20git%20config%20user.name%20github-actions%0A%20%20%20%20%20%20%20%20%20%20git%20config%20user.email%20github-actions@github.com%0A%20%20%20%20%20%20%20%20%20%20git%20add%20gamma.xml%0A%20%20%20%20%20%20%20%20%20%20git%20commit%20-m%20%22Generate%20gamma.xml%22%0A%20%20%20%20%20%20%20%20%20%20git%20push%0A
